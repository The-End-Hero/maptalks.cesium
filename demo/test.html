<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>animation</title>
    <meta charset="utf-8" />
    <script type='text/javascript' src='https://cdn.jsdelivr.net/npm/maptalks/dist/maptalks.min.js'></script>
    <script type='text/javascript' src='../node_modules/cesium/Build/CesiumUnminified/Cesium.js'></script>
    <script type='text/javascript' src='../dist/maptalks.cesium.js'> </script>
    <style type="text/css">
        html, body {
            margin: 0px;
            height: 100%;
            width: 100%;
        }

        #map {
            width: 800px;
            height: 600px;
        }
    </style>
</head>
<body>
    <div id="map"></div>
</body>
<script type="text/javascript">
    Cesium.BingMapsApi.defaultKey = 'ApD3P1iMWEcs7okcQD2-idlF4bgGLMqF_p6ZKYovVeX80cmjpWzR5EZs9E_I2tXn';
    var map = new maptalks.Map("map", {
        center: [121.392825741, 31.1456282355], //[-107.42203786989575, 34.66846940689112]
        zoom: 15,
        centerCross : true
    });

    var cesiumLayer = new maptalks.CesiumLayer('cesium').addTo(map);
    var scene = cesiumLayer.getCesiumScene();

    var terrainProvider = new Cesium.CesiumTerrainProvider({
        url: '//assets.agi.com/stk-terrain/world',
        requestVertexNormals: true
    });


    // 添加卫片底图
    scene.imageryLayers.addImageryProvider(new Cesium.BingMapsImageryProvider({
        url : 'https://dev.virtualearth.net',
        mapStyle: Cesium.BingMapsStyle.AERIAL // Can also use Cesium.BingMapsStyle.ROAD
    }));

    var tileset = scene.primitives.add(new Cesium.Cesium3DTileset({
        url: 'http://101.201.72.138:8686/SG/b3dm/niujin_pm2686_1107_Build_4.397439/158/4/'
    }));


    var layer = new maptalks.VectorLayer('v');
    layer.addGeometry(new maptalks.Marker(map.getCenter())).addTo(map);
</script>
</html>
